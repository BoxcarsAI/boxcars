---
http_interactions:
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"system","content":"You can do basic math, but
        for any hard calculations that a human could not do in their head, use the
        following approach instead. Return code written in the Ruby programming language
        that prints the results to the console. If anyone gives you a hard math problem,
        just use the following format and we’ll take care of the rest:\n${{Question
        with hard calculation.}}\nreply only with the following format:\n```ruby\n${{only
        Ruby code that prints the answer}}\n```\n```output\n${{Output of your code}}\n```\n\nOtherwise,
        you should use this simpler format:\n${{Question without hard calculation}}\nAnswer:
        ${{Answer}}\n\nDo not give an explanation of the answer and make sure your
        answer starts with either ''Answer:'' or ''```ruby''."},{"role":"system","content":"here
        is a hard example:\nthe user asks: What is 37593 * 67?\nyour answer: ```ruby\nputs(37593
        * 67)\n```\n```output\n2518731\n```\nAnswer: 2518731"},{"role":"system","content":"basic
        example:\nuser asks: What is 2518731 + 0?\nyou answer: Answer: 2518731"},{"role":"system","content":"Begin."},{"role":"user","content":"what
        is 2.173 to the power of 22.1 then diveded by 27.2 to 5 significant digits?"},{"role":"assistant","content":"```ruby\nresult
        = (2.173 ** 22.1) / 27.2\nresult.round(5)\n```"},{"role":"user","content":"The
        code you gave me did not print a result"}],"model":"gpt-3.5-turbo","temperature":0.2,"max_tokens":512,"stop":["```output"]}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Bearer <openai_access_token>
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 10 Jul 2023 00:00:04 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Cache-Control:
      - no-cache, must-revalidate
      Openai-Model:
      - gpt-3.5-turbo-0613
      Openai-Organization:
      - user-ri9zw9ahumb1bo9vs73mudbi
      Openai-Processing-Ms:
      - '640'
      Openai-Version:
      - '2020-10-01'
      Strict-Transport-Security:
      - max-age=15724800; includeSubDomains
      X-Ratelimit-Limit-Requests:
      - '3500'
      X-Ratelimit-Limit-Tokens:
      - '90000'
      X-Ratelimit-Remaining-Requests:
      - '3499'
      X-Ratelimit-Remaining-Tokens:
      - '89202'
      X-Ratelimit-Reset-Requests:
      - 17ms
      X-Ratelimit-Reset-Tokens:
      - 532ms
      X-Request-Id:
      - eadcf4a9c0086123b637206e75b78f82
      Cf-Cache-Status:
      - DYNAMIC
      Server:
      - cloudflare
      Cf-Ray:
      - 7e44863a2d57a6fa-PHX
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-7aYbs7u1jVYXCZv9hsXhQlvyOmoOI",
          "object": "chat.completion",
          "created": 1688947204,
          "model": "gpt-3.5-turbo-0613",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "Apologies for the oversight. Here's the corrected code:\n\n```ruby\nresult = (2.173 ** 22.1) / 27.2\nputs result.round(5)\n```\n\n"
              },
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 328,
            "completion_tokens": 41,
            "total_tokens": 369
          }
        }
  recorded_at: Mon, 10 Jul 2023 00:00:04 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"system","content":"You can do basic math, but
        for any hard calculations that a human could not do in their head, use the
        following approach instead. Return code written in the Ruby programming language
        that prints the results to the console. If anyone gives you a hard math problem,
        just use the following format and we’ll take care of the rest:\n${{Question
        with hard calculation.}}\nreply only with the following format:\n```ruby\n${{only
        Ruby code that prints the answer. If you use puts, make sure to wrap the expression
        in paranthesis}}\n```\n```output\n${{Output of your code}}\n```\n\nOtherwise,
        you should use this simpler format:\n${{Question without hard calculation}}\nAnswer:
        ${{Answer}}\n\nDo not give an explanation of the answer and make sure your
        answer starts with either ''Answer:'' or ''```ruby''."},{"role":"system","content":"here
        is a hard example:\nthe user asks: What is 37593 * 67?\nyour answer: ```ruby\nputs(37593
        * 67)\n```\n```output\n2518731\n```\nAnswer: 2518731"},{"role":"system","content":"basic
        example:\nuser asks: What is 2518731 + 0?\nyou answer: Answer: 2518731"},{"role":"system","content":"Begin."},{"role":"user","content":"what
        is 2.173 to the power of 22.1 then diveded by 27.2 to 5 significant digits?"}],"model":"gpt-4o-mini","temperature":0.1,"max_tokens":4096,"stop":["```output"]}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Bearer <openai_access_token>
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 27 Feb 2026 02:21:23 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - boxcars-ai
      Openai-Processing-Ms:
      - '656'
      Openai-Project:
      - proj_dmFiz6ZSMR5ZHgQIY3tw6FNe
      Openai-Version:
      - '2020-10-01'
      Server:
      - cloudflare
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '10000000'
      X-Ratelimit-Remaining-Requests:
      - '9999'
      X-Ratelimit-Remaining-Tokens:
      - '9999724'
      X-Ratelimit-Reset-Requests:
      - 6ms
      X-Ratelimit-Reset-Tokens:
      - 1ms
      X-Request-Id:
      - req_aff255196d204bbe902f85f0e7012a6a
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=SyU4F1mT9jSKQw.zwn8mro7Ia.kMW3HEn947w3Zh8gg-1772158882.810594-1.0.1.1-MfVzOkmbLM4l9sj4K1Ygaa8rySEUmFAeInT6GWoqLZhVSOiH0lj_ci2VtN.lpruHAHnrhuD7ENV0qAHOmggdnsDeLJjsLPY1ytHfCZwAYiLxpBGF0QltYtpk4zd97PCG;
        HttpOnly; Secure; Path=/; Domain=api.openai.com; Expires=Fri, 27 Feb 2026
        02:51:23 GMT
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Cf-Ray:
      - 9d44355989d1e76d-DEN
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-DDhlio3P1t435hXmvizOzPURO3aeJ",
          "object": "chat.completion",
          "created": 1772158882,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "```ruby\nputs((2.173 ** 22.1) / (27.2))\n```\n",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 299,
            "completion_tokens": 24,
            "total_tokens": 323,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_b4f1283ee2"
        }
  recorded_at: Fri, 27 Feb 2026 02:21:23 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/responses
    body:
      encoding: UTF-8
      string: '{"model":"gpt-5-mini","input":"system: You can do basic math, but for
        any hard calculations that a human could not do in their head, use the following
        approach instead. Return code written in the Ruby programming language that
        prints the results to the console. If anyone gives you a hard math problem,
        just use the following format and we’ll take care of the rest:\n${{Question
        with hard calculation.}}\nreply only with the following format:\n```ruby\n${{only
        Ruby code that prints the answer. If you use puts, make sure to wrap the expression
        in paranthesis}}\n```\n```output\n${{Output of your code}}\n```\n\nOtherwise,
        you should use this simpler format:\n${{Question without hard calculation}}\nAnswer:
        ${{Answer}}\n\nDo not give an explanation of the answer and make sure your
        answer starts with either ''Answer:'' or ''```ruby''.\nsystem: here is a hard
        example:\nthe user asks: What is 37593 * 67?\nyour answer: ```ruby\nputs(37593
        * 67)\n```\n```output\n2518731\n```\nAnswer: 2518731\nsystem: basic example:\nuser
        asks: What is 2518731 + 0?\nyou answer: Answer: 2518731\nsystem: Begin.\nuser:
        what is 2.173 to the power of 22.1 then diveded by 27.2 rounded to 5 decimal
        places?","max_output_tokens":4096}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.51.0
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.51.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.8
      Content-Type:
      - application/json
      Authorization:
      - Bearer <openai_access_token>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '1211'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 27 Feb 2026 16:30:02 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Server:
      - cloudflare
      Openai-Version:
      - '2020-10-01'
      Openai-Organization:
      - boxcars-ai
      Openai-Project:
      - proj_dmFiz6ZSMR5ZHgQIY3tw6FNe
      X-Request-Id:
      - req_020a9bbcb1de46bda58d6e90d45a4e52
      Openai-Processing-Ms:
      - '75002'
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=xWYNI9V0glKdEgcH7f_eLxa9kiy1y2sOZIKfRM5exJA-1772209727.4909906-1.0.1.1-S34AV9wHvSZ7DKMVTll4T.9gsvteEWO0Sy0253MIF.AZHhgSG4pCTLdMwD.EmxB6WOXUhBCDn4VjFhgw7kB80kJzrcSjF9uoAORwXUYj8eVIWwMaIyGhCNorQtU.Hl3b;
        HttpOnly; Secure; Path=/; Domain=api.openai.com; Expires=Fri, 27 Feb 2026
        17:00:02 GMT
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Cf-Ray:
      - 9d490eacdd4f557c-DEN
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |-
        {
          "id": "resp_02eb51b2246200b10069a1c63f8a94819f87fee1a9884396c2",
          "object": "response",
          "created_at": 1772209727,
          "status": "incomplete",
          "background": false,
          "billing": {
            "payer": "openai"
          },
          "completed_at": null,
          "error": null,
          "frequency_penalty": 0.0,
          "incomplete_details": {
            "reason": "max_output_tokens"
          },
          "instructions": null,
          "max_output_tokens": 4096,
          "max_tool_calls": null,
          "model": "gpt-5-mini-2025-08-07",
          "output": [
            {
              "id": "rs_02eb51b2246200b10069a1c63fcf30819fbe3434ada46a7faa",
              "type": "reasoning",
              "summary": []
            }
          ],
          "parallel_tool_calls": true,
          "presence_penalty": 0.0,
          "previous_response_id": null,
          "prompt_cache_key": null,
          "prompt_cache_retention": null,
          "reasoning": {
            "effort": "medium",
            "summary": null
          },
          "safety_identifier": null,
          "service_tier": "default",
          "store": true,
          "temperature": 1.0,
          "text": {
            "format": {
              "type": "text"
            },
            "verbosity": "medium"
          },
          "tool_choice": "auto",
          "tools": [],
          "top_logprobs": 0,
          "top_p": 1.0,
          "truncation": "disabled",
          "usage": {
            "input_tokens": 295,
            "input_tokens_details": {
              "cached_tokens": 0
            },
            "output_tokens": 4096,
            "output_tokens_details": {
              "reasoning_tokens": 4096
            },
            "total_tokens": 4391
          },
          "user": null,
          "metadata": {}
        }
  recorded_at: Fri, 27 Feb 2026 16:30:02 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"system","content":"You can do basic math, but
        for any hard calculations that a human could not do in their head, use the
        following approach instead. Return code written in the Ruby programming language
        that prints the results to the console. If anyone gives you a hard math problem,
        just use the following format and we’ll take care of the rest:\n${{Question
        with hard calculation.}}\nreply only with the following format:\n```ruby\n${{only
        Ruby code that prints the answer. If you use puts, make sure to wrap the expression
        in paranthesis}}\n```\n```output\n${{Output of your code}}\n```\n\nOtherwise,
        you should use this simpler format:\n${{Question without hard calculation}}\nAnswer:
        ${{Answer}}\n\nDo not give an explanation of the answer and make sure your
        answer starts with either ''Answer:'' or ''```ruby''."},{"role":"system","content":"here
        is a hard example:\nthe user asks: What is 37593 * 67?\nyour answer: ```ruby\nputs(37593
        * 67)\n```\n```output\n2518731\n```\nAnswer: 2518731"},{"role":"system","content":"basic
        example:\nuser asks: What is 2518731 + 0?\nyou answer: Answer: 2518731"},{"role":"system","content":"Begin."},{"role":"user","content":"what
        is 2.173 to the power of 22.1 then diveded by 27.2 rounded to 5 decimal places?"}],"model":"gpt-4o-mini","temperature":0.1,"max_tokens":4096,"stop":["```output"]}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.51.0
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.51.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.8
      Content-Type:
      - application/json
      Authorization:
      - Bearer <openai_access_token>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '1353'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 27 Feb 2026 16:35:48 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - boxcars-ai
      Openai-Processing-Ms:
      - '747'
      Openai-Project:
      - proj_dmFiz6ZSMR5ZHgQIY3tw6FNe
      Openai-Version:
      - '2020-10-01'
      Server:
      - cloudflare
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '10000000'
      X-Ratelimit-Remaining-Requests:
      - '9999'
      X-Ratelimit-Remaining-Tokens:
      - '9999723'
      X-Ratelimit-Reset-Requests:
      - 6ms
      X-Ratelimit-Reset-Tokens:
      - 1ms
      X-Request-Id:
      - req_e4f5872bba304ef896c50527e8685070
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=q1LHsWFzedTUAVGc37GivDEPiWt6sFFVPmuwoLSAsxU-1772210147.4965084-1.0.1.1-Ne1yZblLaCfpLVPlOV_ZUeChhqSUFVebBAO9qnYemNoqoWD4upHjt3O.xdU5wm6efQfTo4xjGpxW.pyUvuJZWtp.lhRAJyT5Va1phu2rr3kcOrZhaleB0HxNxO9QuBUu;
        HttpOnly; Secure; Path=/; Domain=api.openai.com; Expires=Fri, 27 Feb 2026
        17:05:48 GMT
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Cf-Ray:
      - 9d4918eddb51e76b-DEN
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-DDv6ZAEI8lC1mFt1KjaSbsQIB3nay",
          "object": "chat.completion",
          "created": 1772210147,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "```ruby\nputs((2.173 ** 22.1 / 27.2).round(5))\n```\n",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 300,
            "completion_tokens": 27,
            "total_tokens": 327,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_b4f1283ee2"
        }
  recorded_at: Fri, 27 Feb 2026 16:35:48 GMT
recorded_with: VCR 6.4.0
